# プロジェクト固有の知見・設計判断記録

## アーキテクチャ設計

- Mastraフレームワークを採用した理由：
  - MCP（Model Context Protocol）を標準サポート
  - Claude等のLLMと自然な接続性
  - Tool連携構造が明確で拡張性が高い

- MCP経由でのツール連携：
  - AgentはToolを直接呼び出すのではなく、MCPを介して実行要求を送信
  - 再利用可能性と柔軟性が確保される

## 応答設計

- ポッド021の応答形式はタグ付き体言止め：
  - 情報の分類（報告・提案・警告など）による明快な意味分離
  - LLMによるロール固定に有効

## 設定上の工夫

- System Promptにキャラクター設定を明示し、意図通りの人格を強制
- Claude APIでは「ステートフルな振る舞い」を促すよう会話履歴を制御

## 避けるべきアンチパターン

- 「普通のチャットボット風」の返答形式に引きずられること
- JSONレスポンスに寄りすぎるとキャラ性が失われる
